!SET variable_substitution=true;
-- Grant future ownership of schemas, tables and views to '&{PROGRAM}_&{ENV}_DBA' role
USE ROLE SECURITYADMIN;
GRANT OWNERSHIP ON FUTURE SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DBA;
GRANT OWNERSHIP ON FUTURE TABLES IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DBA;
GRANT OWNERSHIP ON FUTURE VIEWS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DBA;

--eg_project1
GRANT USAGE ON DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON ALL SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DBA;
GRANT USAGE ON ALL SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON ALL SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON ALL STAGES IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON ALL STAGES IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT SELECT ON ALL TABLES IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON ALL VIEWS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON ALL EXTERNAL TABLES IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON ALL EXTERNAL TABLES IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT SELECT ON ALL MATERIALIZED VIEWS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT CREATE TABLE, CREATE VIEW, CREATE EXTERNAL TABLE, CREATE MATERIALIZED VIEW, CREATE PROCEDURE, CREATE TASK ON ALL SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT CREATE TABLE, CREATE VIEW, CREATE EXTERNAL TABLE, CREATE MATERIALIZED VIEW, CREATE PROCEDURE, CREATE TASK ON FUTURE SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON FUTURE STAGES IN SCHEMA &{PROGRAM}_EG_PROJECT1_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON FUTURE STAGES IN SCHEMA &{PROGRAM}_EG_PROJECT1_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON FUTURE FILE FORMATS IN SCHEMA &{PROGRAM}_EG_PROJECT1_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DBA;
GRANT USAGE ON FUTURE FILE FORMATS IN SCHEMA &{PROGRAM}_EG_PROJECT1_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON FUTURE FILE FORMATS IN SCHEMA &{PROGRAM}_EG_PROJECT1_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT SELECT ON FUTURE TABLES IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON FUTURE MATERIALIZED VIEWS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON FUTURE MATERIALIZED VIEWS IN DATABASE &{PROGRAM}_EG_PROJECT1_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;

--eg_project2
GRANT USAGE ON DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON ALL SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DBA;
GRANT USAGE ON ALL SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON ALL SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON ALL STAGES IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON ALL STAGES IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT SELECT ON ALL TABLES IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON ALL VIEWS IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON ALL EXTERNAL TABLES IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON ALL EXTERNAL TABLES IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT SELECT ON ALL MATERIALIZED VIEWS IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT CREATE TABLE, CREATE VIEW, CREATE EXTERNAL TABLE, CREATE MATERIALIZED VIEW, CREATE PROCEDURE, CREATE TASK ON ALL SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT CREATE TABLE, CREATE VIEW, CREATE EXTERNAL TABLE, CREATE MATERIALIZED VIEW, CREATE PROCEDURE, CREATE TASK ON FUTURE SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON FUTURE STAGES IN SCHEMA &{PROGRAM}_EG_PROJECT2_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON FUTURE STAGES IN SCHEMA &{PROGRAM}_EG_PROJECT2_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON FUTURE FILE FORMATS IN SCHEMA &{PROGRAM}_EG_PROJECT2_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DBA;
GRANT USAGE ON FUTURE FILE FORMATS IN SCHEMA &{PROGRAM}_EG_PROJECT2_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON FUTURE FILE FORMATS IN SCHEMA &{PROGRAM}_EG_PROJECT2_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT SELECT ON FUTURE TABLES IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON FUTURE MATERIALIZED VIEWS IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON FUTURE MATERIALIZED VIEWS IN DATABASE &{PROGRAM}_EG_PROJECT2_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;

--eg_project3
GRANT USAGE ON DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON ALL SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DBA;
GRANT USAGE ON ALL SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON ALL SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON ALL STAGES IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON ALL STAGES IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON ALL FILE FORMATS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT SELECT ON ALL TABLES IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON ALL VIEWS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON ALL EXTERNAL TABLES IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON ALL EXTERNAL TABLES IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT SELECT ON ALL MATERIALIZED VIEWS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT CREATE TABLE, CREATE VIEW, CREATE EXTERNAL TABLE, CREATE MATERIALIZED VIEW, CREATE PROCEDURE, CREATE TASK ON ALL SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT CREATE TABLE, CREATE VIEW, CREATE EXTERNAL TABLE, CREATE MATERIALIZED VIEW, CREATE PROCEDURE, CREATE TASK ON FUTURE SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON FUTURE SCHEMAS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON FUTURE STAGES IN SCHEMA &{PROGRAM}_EG_PROJECT3_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON FUTURE STAGES IN SCHEMA &{PROGRAM}_EG_PROJECT3_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT USAGE ON FUTURE FILE FORMATS IN SCHEMA &{PROGRAM}_EG_PROJECT3_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DBA;
GRANT USAGE ON FUTURE FILE FORMATS IN SCHEMA &{PROGRAM}_EG_PROJECT3_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT USAGE ON FUTURE FILE FORMATS IN SCHEMA &{PROGRAM}_EG_PROJECT3_DB.UTILITIES TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
GRANT SELECT ON FUTURE TABLES IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON FUTURE MATERIALIZED VIEWS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DEVELOPER;
GRANT SELECT ON FUTURE MATERIALIZED VIEWS IN DATABASE &{PROGRAM}_EG_PROJECT3_DB TO ROLE &{PROGRAM}_&{ENV}_DATA_LOADER;
